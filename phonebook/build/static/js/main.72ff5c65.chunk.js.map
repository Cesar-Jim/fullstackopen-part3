{"version":3,"sources":["components/Filter.js","components/NameInput.js","components/NumberInput.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","onChange","NameInput","NumberInput","PersonForm","onSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","rows","baseUrl","axios","get","then","response","data","newPersonObject","post","personObject","personUrl","id","delete","personToUpdate","put","Notification","message","messageType","className","App","useState","setNewName","setNewNumber","newSearch","setNewSearch","persons","setPersons","setMessage","setMessageType","useEffect","personService","initialPersons","catch","error","setTimeout","event","target","preventDefault","name","number","find","window","confirm","p","splice","indexOf","concat","filter","person","toUpperCase","map","key","onClick","personToDelete","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.72ff5c65.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = props => {\r\n  const { value, onChange } = props;\r\n\r\n  return (\r\n    <div>\r\n      filter shown with: <input value={value} onChange={onChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst NameInput = props => {\r\n  const { value, onChange } = props;\r\n\r\n  return (\r\n    <div>\r\n      name: <input value={value} onChange={onChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NameInput;\r\n","import React from \"react\";\r\n\r\nconst NumberInput = props => {\r\n  const { value, onChange } = props;\r\n\r\n  return (\r\n    <div>\r\n      number: <input value={value} onChange={onChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NumberInput;\r\n","import React from \"react\";\r\nimport NameInput from \"./NameInput\";\r\nimport NumberInput from \"./NumberInput\";\r\n\r\nconst PersonForm = props => {\r\n  const {\r\n    onSubmit,\r\n    newName,\r\n    handleNameChange,\r\n    newNumber,\r\n    handleNumberChange\r\n  } = props;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Add a new person</h2>\r\n      <form onSubmit={onSubmit}>\r\n        <NameInput value={newName} onChange={handleNameChange} />\r\n        <NumberInput value={newNumber} onChange={handleNumberChange} />\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Persons = props => {\r\n  const { rows } = props;\r\n  return <ul>{rows}</ul>;\r\n};\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newPersonObject => {\r\n  const request = axios.post(baseUrl, newPersonObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst deletePerson = personObject => {\r\n  const personUrl = `${baseUrl}/${personObject.id}`;\r\n  const request = axios.delete(personUrl, personObject);\r\n\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst updateNumber = (personToUpdate, personObject) => {\r\n  const personUrl = `${baseUrl}/${personToUpdate.id}`;\r\n  const request = axios.put(personUrl, personObject);\r\n\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, deletePerson, updateNumber };\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, messageType }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  if (messageType === \"success\") {\r\n    return <div className=\"success\">{message}</div>;\r\n  }\r\n\r\n  if (messageType === \"error\") {\r\n    return <div className=\"error\">{message}</div>;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\n\r\nimport personService from \"./services/persons\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [newSearch, setNewSearch] = useState(\"\");\r\n  const [persons, setPersons] = useState([]);\r\n  const [message, setMessage] = useState(null);\r\n  const [messageType, setMessageType] = useState(null);\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => setPersons(initialPersons))\r\n      .catch(error => {\r\n        setMessageType(\"error\");\r\n        setMessage(`Error (couldn't load data): ${error}`);\r\n        setTimeout(() => {\r\n          setMessageType(null);\r\n          setMessage(null);\r\n        }, 5000);\r\n      });\r\n  }, []);\r\n\r\n  const addPerson = event => {\r\n    event.preventDefault();\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n\r\n    const nameExists = persons.find(personObject => {\r\n      return personObject.name === newName;\r\n    });\r\n\r\n    if (nameExists) {\r\n      if (\r\n        window.confirm(\r\n          `\"${personObject.name}\" is already added to phonebook, replace the old number with a new one?`\r\n        )\r\n      ) {\r\n        const personToUpdate = persons.find(p => p.name === personObject.name);\r\n\r\n        personService\r\n          .updateNumber(personToUpdate, personObject)\r\n          .then(() => {\r\n            setPersons(\r\n              persons.splice(persons.indexOf(personToUpdate), 1, personObject)\r\n            );\r\n            setPersons(persons);\r\n          })\r\n          .catch(error => {\r\n            setMessageType(\"error\");\r\n            setMessage(`Error (couldn't add number): ${error}`);\r\n            setTimeout(() => {\r\n              setMessageType(null);\r\n              setMessage(null);\r\n            }, 5000);\r\n          });\r\n\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n      }\r\n    } else {\r\n      personService\r\n        .create(personObject)\r\n        .then(data => {\r\n          setPersons(persons.concat(data));\r\n          setMessageType(\"success\");\r\n          setMessage(`Added ${personObject.name}!`);\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n            setMessageType(null);\r\n          }, 5000);\r\n        })\r\n        .catch(error => {\r\n          setMessageType(\"error\");\r\n          setMessage(`Error (couldn't add record of person): ${error}`);\r\n          setTimeout(() => {\r\n            setMessageType(null);\r\n            setMessage(null);\r\n          }, 5000);\r\n        });\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n    }\r\n  };\r\n\r\n  const deletePerson = person => {\r\n    if (window.confirm(`Are you sure you want to delete \"${person.name}\"?`)) {\r\n      const personToDelete = persons.find(p => p.id === person.id);\r\n\r\n      personService\r\n        .deletePerson(personToDelete)\r\n        .then(() => {\r\n          setPersons(persons.filter(p => p !== person));\r\n        })\r\n        .catch(error => {\r\n          setMessageType(\"error\");\r\n          setMessage(`Error (couldn't delete record of person): ${error}`);\r\n          setTimeout(() => {\r\n            setMessageType(null);\r\n            setMessage(null);\r\n          }, 5000);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleNameChange = event => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = event => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleSearchChange = event => {\r\n    setNewSearch(event.target.value);\r\n  };\r\n\r\n  const rows = () => {\r\n    let filteredPersons = persons.filter(person => {\r\n      return person.name.toUpperCase().indexOf(newSearch.toUpperCase()) !== -1;\r\n    });\r\n\r\n    return filteredPersons.map(person => {\r\n      return (\r\n        <li key={person.name}>\r\n          {person.name} / {person.number}{\" \"}\r\n          <button onClick={() => deletePerson(person)}>delete</button>\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>PhoneBook</h1>\r\n      <Notification message={message} messageType={messageType} />\r\n      <Filter value={newSearch} onChange={handleSearchChange} />\r\n      <br />\r\n      <PersonForm\r\n        onSubmit={addPerson}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <br />\r\n      <h2>Numbers</h2>\r\n      <Persons rows={rows()} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}